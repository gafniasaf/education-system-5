"use strict";(self.webpackChunkweb=self.webpackChunkweb||[]).push([[216],{"./src/stories/DataTable.stories.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Basic:()=>Basic,__namedExportsOrder:()=>__namedExportsOrder,default:()=>DataTable_stories});var jsx_runtime=__webpack_require__("../../node_modules/next/dist/compiled/react/jsx-runtime.js"),react=__webpack_require__("../../node_modules/next/dist/compiled/react/index.js");function DataTable({columns,rows,empty}){const[sortKey,setSortKey]=react.useState(null),[sortDir,setSortDir]=react.useState("asc"),sorted=react.useMemo(()=>{if(!sortKey)return rows||[];const copy=[...rows||[]];return copy.sort((a,b)=>{const av=null==a?void 0:a[sortKey],bv=null==b?void 0:b[sortKey];if(null==av&&null==bv)return 0;if(null==av)return"asc"===sortDir?-1:1;if(null==bv)return"asc"===sortDir?1:-1;if("number"==typeof av&&"number"==typeof bv)return"asc"===sortDir?av-bv:bv-av;const as=String(av).toLowerCase(),bs=String(bv).toLowerCase();return"asc"===sortDir?as.localeCompare(bs):bs.localeCompare(as)}),copy},[rows,sortKey,sortDir]);return(0,jsx_runtime.jsx)("div",{className:"w-full overflow-x-auto",children:(0,jsx_runtime.jsxs)("table",{className:"data-table w-full text-sm border",children:[(0,jsx_runtime.jsx)("thead",{children:(0,jsx_runtime.jsx)("tr",{className:"bg-gray-50 text-left",children:columns.map(c=>(0,jsx_runtime.jsxs)("th",{scope:"col","aria-sort":sortKey===c.key?"asc"===sortDir?"ascending":"descending":"none",className:"sticky top-0 z-10 bg-white dark:bg-gray-900 p-2 border cursor-pointer select-none "+(c.className||""),onClick:()=>function onSort(key){sortKey===key?setSortDir(d=>"asc"===d?"desc":"asc"):(setSortKey(key),setSortDir("asc"))}(c.key),children:[(0,jsx_runtime.jsx)("span",{children:c.header}),sortKey===c.key?(0,jsx_runtime.jsx)("span",{className:"ml-1 text-gray-400",children:"asc"===sortDir?"▲":"▼"}):null]},String(c.key)))})}),(0,jsx_runtime.jsxs)("tbody",{children:[(sorted||[]).map((r,idx)=>{var _r_id;return(0,jsx_runtime.jsx)("tr",{className:"border-b odd:bg-gray-50 dark:odd:bg-gray-800",children:columns.map(c=>(0,jsx_runtime.jsx)("td",{className:"p-2 border "+(c.className||""),children:c.render?c.render(r):String(r[c.key])},String(c.key)))},null!==(_r_id=r.id)&&void 0!==_r_id?_r_id:idx)}),0===sorted.length&&(0,jsx_runtime.jsx)("tr",{children:(0,jsx_runtime.jsx)("td",{className:"p-2 text-gray-500",colSpan:columns.length,children:empty||"No data"})})]})]})})}DataTable.__docgenInfo={description:"",methods:[],displayName:"DataTable",props:{columns:{required:!0,tsType:{name:"Array",elements:[{name:"signature",type:"object",raw:"{ key: keyof T; header: string; render?: (row: T) => React.ReactNode; className?: string }",signature:{properties:[{key:"key",value:{name:"T",required:!0}},{key:"header",value:{name:"string",required:!0}},{key:"render",value:{name:"signature",type:"function",raw:"(row: T) => React.ReactNode",signature:{arguments:[{type:{name:"T"},name:"row"}],return:{name:"ReactReactNode",raw:"React.ReactNode"}},required:!1}},{key:"className",value:{name:"string",required:!1}}]}}],raw:"Column<T>[]"},description:""},rows:{required:!0,tsType:{name:"Array",elements:[{name:"T"}],raw:"T[]"},description:""},empty:{required:!1,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:""}}};const DataTable_stories={title:"UI/DataTable"},columns=[{key:"name",header:"Name"},{key:"email",header:"Email"},{key:"score",header:"Score"}],rows=[{id:"1",name:"Alice",email:"alice@example.com",score:92},{id:"2",name:"Bob",email:"bob@example.com",score:85},{id:"3",name:"Carol",email:"carol@example.com",score:98}],Basic={render:()=>(0,jsx_runtime.jsx)("div",{className:"p-4 max-w-2xl",children:(0,jsx_runtime.jsx)(DataTable,{columns,rows,empty:(0,jsx_runtime.jsx)("span",{children:"No data"})})})},__namedExportsOrder=["Basic"];Basic.parameters={...Basic.parameters,docs:{...Basic.parameters?.docs,source:{originalSource:'{\n  render: () => <div className="p-4 max-w-2xl"><DataTable columns={columns} rows={rows} empty={<span>No data</span>} /></div>\n}',...Basic.parameters?.docs?.source}}}}}]);