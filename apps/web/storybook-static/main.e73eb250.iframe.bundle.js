(self.webpackChunkweb=self.webpackChunkweb||[]).push([[179],{"./src/stories lazy recursive ^\\.\\/.*$ include: (?%21.*node_modules)(?:[\\\\/]src[\\\\/]stories(?:[\\\\/](?%21\\.)(?:(?:(?%21(?:^%7C[\\\\/])\\.).)*?)[\\\\/]%7C[\\\\/]%7C$)(?%21\\.)(?=.)[^\\\\/]*?\\.stories\\.(ts%7Ctsx))$":(module,__unused_webpack_exports,__webpack_require__)=>{var map={"./Dashboard.stories":["./src/stories/Dashboard.stories.tsx",917],"./Dashboard.stories.tsx":["./src/stories/Dashboard.stories.tsx",917],"./DataTable.stories":["./src/stories/DataTable.stories.tsx",216],"./DataTable.stories.tsx":["./src/stories/DataTable.stories.tsx",216],"./Forms.stories":["./src/stories/Forms.stories.tsx",183],"./Forms.stories.tsx":["./src/stories/Forms.stories.tsx",183],"./GradingQueue.stories":["./src/stories/GradingQueue.stories.tsx",574],"./GradingQueue.stories.tsx":["./src/stories/GradingQueue.stories.tsx",574],"./InteractiveEmbedClient.stories":["./src/stories/InteractiveEmbedClient.stories.tsx",157,986],"./InteractiveEmbedClient.stories.tsx":["./src/stories/InteractiveEmbedClient.stories.tsx",157,986],"./Notifications.stories":["./src/stories/Notifications.stories.tsx",66],"./Notifications.stories.tsx":["./src/stories/Notifications.stories.tsx",66],"./NotificationsDropdownClient.stories":["./src/stories/NotificationsDropdownClient.stories.tsx",157,832,719,290],"./NotificationsDropdownClient.stories.tsx":["./src/stories/NotificationsDropdownClient.stories.tsx",157,832,719,290],"./Primitives.stories":["./src/stories/Primitives.stories.tsx",292],"./Primitives.stories.tsx":["./src/stories/Primitives.stories.tsx",292],"./ProfileEditor.stories":["./src/stories/ProfileEditor.stories.tsx",888],"./ProfileEditor.stories.tsx":["./src/stories/ProfileEditor.stories.tsx",888],"./QuizPlayerClient.stories":["./src/stories/QuizPlayerClient.stories.tsx",157,832,719,800],"./QuizPlayerClient.stories.tsx":["./src/stories/QuizPlayerClient.stories.tsx",157,832,719,800],"./Settings.stories":["./src/stories/Settings.stories.tsx",218],"./Settings.stories.tsx":["./src/stories/Settings.stories.tsx",218],"./StudentAssignmentDetail.stories":["./src/stories/StudentAssignmentDetail.stories.tsx",393],"./StudentAssignmentDetail.stories.tsx":["./src/stories/StudentAssignmentDetail.stories.tsx",393],"./TeacherAnalytics.stories":["./src/stories/TeacherAnalytics.stories.tsx",974],"./TeacherAnalytics.stories.tsx":["./src/stories/TeacherAnalytics.stories.tsx",974],"./TeacherCourseAdmin.stories":["./src/stories/TeacherCourseAdmin.stories.tsx",115],"./TeacherCourseAdmin.stories.tsx":["./src/stories/TeacherCourseAdmin.stories.tsx",115]};function webpackAsyncContext(req){if(!__webpack_require__.o(map,req))return Promise.resolve().then(()=>{var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e});var ids=map[req],id=ids[0];return Promise.all(ids.slice(1).map(__webpack_require__.e)).then(()=>__webpack_require__(id))}webpackAsyncContext.keys=()=>Object.keys(map),webpackAsyncContext.id="./src/stories lazy recursive ^\\.\\/.*$ include: (?%21.*node_modules)(?:[\\\\/]src[\\\\/]stories(?:[\\\\/](?%21\\.)(?:(?:(?%21(?:^%7C[\\\\/])\\.).)*?)[\\\\/]%7C[\\\\/]%7C$)(?%21\\.)(?=.)[^\\\\/]*?\\.stories\\.(ts%7Ctsx))$",module.exports=webpackAsyncContext},"../../node_modules/@bundled-es-modules/tough-cookie sync recursive":module=>{function webpackEmptyContext(req){var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e}webpackEmptyContext.keys=()=>[],webpackEmptyContext.resolve=webpackEmptyContext,webpackEmptyContext.id="../../node_modules/@bundled-es-modules/tough-cookie sync recursive",module.exports=webpackEmptyContext},"../../node_modules/@storybook/instrumenter/dist sync recursive":module=>{function webpackEmptyContext(req){var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e}webpackEmptyContext.keys=()=>[],webpackEmptyContext.resolve=webpackEmptyContext,webpackEmptyContext.id="../../node_modules/@storybook/instrumenter/dist sync recursive",module.exports=webpackEmptyContext},"./.storybook/preview.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{default:()=>_storybook_preview,globalTypes:()=>globalTypes});var jsx_runtime=__webpack_require__("../../node_modules/next/dist/compiled/react/jsx-runtime.js"),react=__webpack_require__("../../node_modules/next/dist/compiled/react/index.js"),browser=__webpack_require__("../../node_modules/msw/lib/browser/index.mjs"),http=__webpack_require__("../../node_modules/msw/lib/core/http.mjs"),HttpResponse=__webpack_require__("../../node_modules/msw/lib/core/HttpResponse.mjs");function GatewayProvider({mode="test",children}){return(0,react.useEffect)(()=>{try{window.__TEST_MODE__="test"===mode}catch(e){}},[mode]),(0,jsx_runtime.jsx)(jsx_runtime.Fragment,{children})}GatewayProvider.__docgenInfo={description:"GatewayProvider\r\n\r\nLightweight client-only provider that toggles a runtime global\r\nused by `isTestMode()` so gateways choose Test-vs-HTTP mode in\r\nenvironments like Storybook without changing build-time env.",methods:[],displayName:"GatewayProvider",props:{mode:{required:!1,tsType:{name:"union",raw:'"test" | "http"',elements:[{name:"literal",value:'"test"'},{name:"literal",value:'"http"'}]},description:"",defaultValue:{value:'"test"',computed:!1}},children:{required:!0,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:""}}};var process=__webpack_require__("../../node_modules/process/browser.js");try{process.env.TEST_MODE="1"}catch(e){}try{process.env.NEXT_PUBLIC_TEST_MODE="1"}catch(e){}try{window.__TEST_MODE__=!0}catch(e){}function makeNotifStore(){const count=window.__NOTIF_COUNT__||8;return Array.from({length:count}).map((_,i)=>({id:`nnnnnnnn-nnnn-nnnn-nnnn-${String(1e11+i)}`,type:i%2?"submission:graded":"message:new",payload:i%2?{score:90}:{thread_id:`tttttttt-tttt-tttt-tttt-${String(1e11+i)}`},created_at:new Date(Date.now()-36e5*i).toISOString(),read_at:i<2?null:new Date(Date.now()-36e5*i).toISOString()}))}let notifStore=makeNotifStore();(0,browser.L)(http.d.get("/api/notifications",({request})=>{if(window.__FORCE_ERROR__)return new HttpResponse.Z(null,{status:500});const url=new URL(request.url),offset=Math.max(0,parseInt(url.searchParams.get("offset")||"0",10)||0),limit=Math.max(1,Math.min(200,parseInt(url.searchParams.get("limit")||"100",10)||100));notifStore=makeNotifStore();const slice=notifStore.slice(offset,offset+limit);return HttpResponse.Z.json(slice,{headers:{"x-total-count":String(notifStore.length)}})}),http.d.patch("/api/notifications",({request})=>{const id=new URL(request.url).searchParams.get("id");if(id){const idx=notifStore.findIndex(n=>n.id===id);var _notifStore_idx;return idx>=0&&(notifStore[idx]={...notifStore[idx],read_at:(new Date).toISOString()}),HttpResponse.Z.json(null!==(_notifStore_idx=notifStore[idx])&&void 0!==_notifStore_idx?_notifStore_idx:null)}return new HttpResponse.Z(null,{status:400})}),http.d.post("/api/quiz-attempts",async({request})=>{const body=await request.json().catch(()=>({}));return HttpResponse.Z.json({id:`attempt-${Math.floor(1e5*Math.random())}`,quiz_id:(null==body?void 0:body.quiz_id)||"quiz"})}),http.d.patch("/api/quiz-attempts",()=>HttpResponse.Z.json({ok:!0})),http.d.post("/api/quiz-attempts/submit",async({request})=>{const body=await request.json().catch(()=>({}));return HttpResponse.Z.json({id:(null==body?void 0:body.attempt_id)||"attempt-1",submitted_at:(new Date).toISOString()})}),http.d.post("/api/runtime/auth/exchange",async({request})=>{const body=await request.json().catch(()=>({}));return HttpResponse.Z.json({runtimeToken:`rt-${((null==body?void 0:body.token)||"").slice(0,6)}`,expiresAt:new Date(Date.now()+3e5).toISOString()})}),http.d.post("/api/runtime/events",async()=>HttpResponse.Z.json({ok:!0})),http.d.post("/api/files/upload-url",async({request})=>{const body=await request.json().catch(()=>({})),url=`/api/files/upload-url?owner_type=${encodeURIComponent((null==body?void 0:body.owner_type)||"user")}&owner_id=${encodeURIComponent((null==body?void 0:body.owner_id)||"self")}&content_type=${encodeURIComponent((null==body?void 0:body.content_type)||"application/octet-stream")}`;return HttpResponse.Z.json({url})}),http.d.get("/api/user/profile",()=>HttpResponse.Z.json({id:"user-1",email:"student@example.com",role:"student",display_name:"Student",avatar_url:null,bio:"",preferences:{}})),http.d.put("/api/user/profile",async()=>HttpResponse.Z.json({ok:!0})),http.d.get("/api/reports/engagement",({request})=>{new URL(request.url).searchParams.get("course_id");return HttpResponse.Z.json({lessons:12,assignments:7,submissions:19})}),http.d.get("/api/reports/grade-distribution",({request})=>"csv"===new URL(request.url).searchParams.get("format")?new HttpResponse.Z("bucket,count\n90-100,10\n80-89,15\n70-79,9\n0-69,8\n",{headers:{"content-type":"text/csv"}}):HttpResponse.Z.json({total:42,average:84,dist:[{bucket:"90-100",count:10},{bucket:"80-89",count:15},{bucket:"70-79",count:9},{bucket:"0-69",count:8}]}))).start({onUnhandledRequest:"bypass"});const globalTypes={testRole:{name:"Role",description:"Test role for gateways",defaultValue:"student",toolbar:{icon:"user",items:["student","teacher","parent","admin"]}},scenario:{name:"Scenario",description:"Mock scenario",defaultValue:"default",toolbar:{icon:"circlehollow",items:["default","large","error"]}}},_storybook_preview={parameters:{actions:{argTypesRegex:"^on[A-Z].*"},controls:{matchers:{color:/(background|color)$/i,date:/Date$/}},a11y:{element:"#root",manual:!1}},globals:{testRole:"student"},decorators:[(Story,ctx)=>{try{document.cookie=`x-test-auth=${ctx.globals.testRole||"student"}; path=/`}catch(e){}if("large"===ctx.globals.scenario)try{window.__NOTIF_COUNT__=200}catch(e){}else if("error"===ctx.globals.scenario)try{window.__FORCE_ERROR__=!0}catch(e){}else try{window.__NOTIF_COUNT__=8,window.__FORCE_ERROR__=!1}catch(e){}return(0,jsx_runtime.jsx)(GatewayProvider,{mode:"test",children:(0,jsx_runtime.jsx)(Story,{})})}]}},"../../node_modules/@storybook/nextjs/dist sync recursive":module=>{function webpackEmptyContext(req){var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e}webpackEmptyContext.keys=()=>[],webpackEmptyContext.resolve=webpackEmptyContext,webpackEmptyContext.id="../../node_modules/@storybook/nextjs/dist sync recursive",module.exports=webpackEmptyContext},"./storybook-config-entry.js":(__unused_webpack_module,__unused_webpack___webpack_exports__,__webpack_require__)=>{"use strict";var external_STORYBOOK_MODULE_CHANNELS_=__webpack_require__("storybook/internal/channels"),csf=__webpack_require__("../../node_modules/@storybook/core/dist/csf/index.js"),external_STORYBOOK_MODULE_PREVIEW_API_=__webpack_require__("storybook/internal/preview-api"),external_STORYBOOK_MODULE_GLOBAL_=__webpack_require__("@storybook/global");const pipeline=x=>x(),importers=[async path=>{if(!/^\.[\\/](?:src[\\/]stories(?:[\\/](?!\.)(?:(?:(?!(?:^|[\\/])\.).)*?)[\\/]|[\\/]|$)(?!\.)(?=.)[^\\/]*?\.stories\.(ts|tsx))$/.exec(path))return;const pathRemainder=path.substring(14);return __webpack_require__("./src/stories lazy recursive ^\\.\\/.*$ include: (?%21.*node_modules)(?:[\\\\/]src[\\\\/]stories(?:[\\\\/](?%21\\.)(?:(?:(?%21(?:^%7C[\\\\/])\\.).)*?)[\\\\/]%7C[\\\\/]%7C$)(?%21\\.)(?=.)[^\\\\/]*?\\.stories\\.(ts%7Ctsx))$")("./"+pathRemainder)}];const channel=(0,external_STORYBOOK_MODULE_CHANNELS_.createBrowserChannel)({page:"preview"});external_STORYBOOK_MODULE_PREVIEW_API_.addons.setChannel(channel),"DEVELOPMENT"===external_STORYBOOK_MODULE_GLOBAL_.global.CONFIG_TYPE&&(window.__STORYBOOK_SERVER_CHANNEL__=channel);const preview=new external_STORYBOOK_MODULE_PREVIEW_API_.PreviewWeb(async function importFn(path){for(let i=0;i<importers.length;i++){const moduleExports=await pipeline(()=>importers[i](path));if(moduleExports)return moduleExports}},()=>{const previewAnnotations=[__webpack_require__("../../node_modules/@storybook/react/dist/entry-preview.mjs"),__webpack_require__("../../node_modules/@storybook/react/dist/entry-preview-docs.mjs"),__webpack_require__("../../node_modules/@storybook/nextjs/dist/preview.mjs"),__webpack_require__("../../node_modules/@storybook/addon-essentials/dist/actions/preview.mjs"),__webpack_require__("../../node_modules/@storybook/addon-essentials/dist/docs/preview.mjs"),__webpack_require__("../../node_modules/@storybook/addon-essentials/dist/backgrounds/preview.mjs"),__webpack_require__("../../node_modules/@storybook/addon-essentials/dist/viewport/preview.mjs"),__webpack_require__("../../node_modules/@storybook/addon-essentials/dist/measure/preview.mjs"),__webpack_require__("../../node_modules/@storybook/addon-essentials/dist/outline/preview.mjs"),__webpack_require__("../../node_modules/@storybook/addon-essentials/dist/highlight/preview.mjs"),__webpack_require__("../../node_modules/@storybook/addon-a11y/dist/preview.mjs"),__webpack_require__("./.storybook/preview.tsx")],userPreview=previewAnnotations[previewAnnotations.length-1]?.default;return(0,csf.JF)(userPreview)?userPreview.composed:(0,external_STORYBOOK_MODULE_PREVIEW_API_.composeConfigs)(previewAnnotations)});window.__STORYBOOK_PREVIEW__=preview,window.__STORYBOOK_STORY_STORE__=preview.storyStore,window.__STORYBOOK_ADDONS_CHANNEL__=channel},"../../node_modules/@storybook/test/dist sync recursive":module=>{function webpackEmptyContext(req){var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e}webpackEmptyContext.keys=()=>[],webpackEmptyContext.resolve=webpackEmptyContext,webpackEmptyContext.id="../../node_modules/@storybook/test/dist sync recursive",module.exports=webpackEmptyContext},"storybook/internal/channels":module=>{"use strict";module.exports=__STORYBOOK_MODULE_CHANNELS__},"storybook/internal/client-logger":module=>{"use strict";module.exports=__STORYBOOK_MODULE_CLIENT_LOGGER__},"storybook/internal/preview-errors":module=>{"use strict";module.exports=__STORYBOOK_MODULE_CORE_EVENTS_PREVIEW_ERRORS__},"storybook/internal/core-events":module=>{"use strict";module.exports=__STORYBOOK_MODULE_CORE_EVENTS__},"@storybook/global":module=>{"use strict";module.exports=__STORYBOOK_MODULE_GLOBAL__},"storybook/internal/preview-api":module=>{"use strict";module.exports=__STORYBOOK_MODULE_PREVIEW_API__},"?cf2d":()=>{},"?3a9c":()=>{},"?d4df":()=>{}},__webpack_require__=>{__webpack_require__.O(0,[838],()=>{return moduleId="./storybook-config-entry.js",__webpack_require__(__webpack_require__.s=moduleId);var moduleId});__webpack_require__.O()}]);