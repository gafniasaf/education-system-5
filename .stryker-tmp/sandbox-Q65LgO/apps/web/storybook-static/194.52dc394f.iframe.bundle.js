// @ts-nocheck
"use strict";(self.webpackChunkweb=self.webpackChunkweb||[]).push([[194],{"../../packages/shared/src/index.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{t6:()=>notification_notification,Aw:()=>quiz_quiz,zP:()=>quizAttempt,iT:()=>quizChoice,VL:()=>quizQuestion});var types=__webpack_require__("../../node_modules/zod/v3/types.js");const userRole=types.Km(["student","teacher","parent"]),CourseId=(types.Ry({email:types.Z_().email(),password:types.Z_().min(8)}),types.Ry({id:types.Z_(),email:types.Z_().email(),role:userRole,display_name:types.Z_().min(1).max(120).optional().nullable(),avatar_url:types.Z_().url().optional().nullable(),bio:types.Z_().max(1e3).optional().nullable(),preferences:types.IM(types.Yj()).default({})}),types.Ry({display_name:types.Z_().min(1).max(120).optional().nullable(),avatar_url:types.Z_().url().optional().nullable(),bio:types.Z_().max(1e3).optional().nullable(),preferences:types.IM(types.Yj()).optional()}),types.Z_().uuid().brand()),LessonId=types.Z_().uuid().brand(),AssignmentId=(types.Z_().uuid().brand(),types.Z_().uuid().brand()),SubmissionId=types.Z_().uuid().brand(),QuizId=types.Z_().uuid().brand(),QuizQuestionId=types.Z_().uuid().brand(),QuizChoiceId=types.Z_().uuid().brand(),QuizAttemptId=types.Z_().uuid().brand(),UserId=types.Z_().uuid().brand(),launchKind=(types.Z_().regex(/^[a-z0-9]+(?:-[a-z0-9]+)*$/).min(1).max(120).brand(),types.Km(["WebEmbed","RemoteContainer","StreamedDesktop"])),scope=types.Km(["progress.write","progress.read","attempts.write","attempts.read","files.read","files.write"]),assignment_assignment=(types.Ry({id:types.Z_().uuid(),name:types.Z_().min(1),jwks_url:types.Z_().url(),domain:types.Z_().min(1),created_at:types.Z_().optional()}),types.Ry({sub:types.Z_().uuid(),courseId:types.Z_().uuid(),role:types.Km(["student","teacher","parent","admin"]),exp:types.Rx().int().positive(),iat:types.Rx().int().positive(),nonce:types.Z_().min(8),scopes:types.IX(scope).default([]),callbackUrl:types.Z_().url()}),types.Ry({token:types.Z_().min(1),expiresAt:types.Z_()}),types.VK("type",[types.Ry({type:types.i0("course.ready"),runtimeId:types.Z_().optional()}),types.Ry({type:types.i0("course.progress"),pct:types.Rx().min(0).max(100),topic:types.Z_().optional()}),types.Ry({type:types.i0("course.attempt.completed"),score:types.Rx().min(0),max:types.Rx().positive(),passed:types.O7(),runtimeAttemptId:types.Z_().optional()}),types.Ry({type:types.i0("course.error"),code:types.Z_().min(1),message:types.Z_().min(1)})]),types.Ry({courseId:types.Z_().uuid(),userId:types.Z_().uuid(),event:types.VK("type",[types.Ry({type:types.i0("attempt.completed"),score:types.Rx().min(0),max:types.Rx().positive(),passed:types.O7(),runtimeAttemptId:types.Z_().optional(),raw:types.IM(types.Yj()).optional()}),types.Ry({type:types.i0("progress"),pct:types.Rx().min(0).max(100),topic:types.Z_().optional(),raw:types.IM(types.Yj()).optional()})])}),types.Ry({token:types.Z_().min(10)}),types.Ry({runtimeToken:types.Z_().min(10),expiresAt:types.Z_()}),types.Ry({alias:types.Z_().min(6),role:types.Km(["student","teacher","parent","admin"]),courseId:types.Z_().uuid(),assignmentId:types.Z_().uuid().nullable().optional(),scopes:types.IX(scope).default([])}),types.Ry({pct:types.Rx().min(0).max(100),topic:types.Z_().optional()}),types.Ry({score:types.Rx().min(0),max:types.Rx().positive(),passed:types.O7(),runtimeAttemptId:types.Z_().optional()}),types.Ry({type:types.Z_().min(1),payload:types.IM(types.Yj()).optional()}),types.Ry({key:types.Z_().min(1),state:types.IM(types.Yj())}),types.Ry({key:types.Z_().min(1)}),types.Ry({owner_type:types.Km(["runtime","assignment","submission"]).default("runtime"),owner_id:types.Z_().uuid().optional(),content_type:types.Z_().min(3),filename:types.Z_().optional()}),types.Ry({title:types.Z_().min(2).max(100),description:types.Z_().max(2e3).optional().nullable(),launch_kind:launchKind.optional().nullable(),launch_url:types.Z_().url().optional().nullable(),scopes:types.IX(scope).optional().nullable(),provider_id:types.Z_().uuid().optional().nullable()}).strict(),types.Ry({title:types.Z_().min(2).max(100).optional(),description:types.Z_().min(1).max(2e3).nullable().optional(),launch_kind:launchKind.optional().nullable(),launch_url:types.Z_().url().optional().nullable(),scopes:types.IX(scope).optional().nullable(),provider_id:types.Z_().uuid().optional().nullable()}).strict().refine(obj=>void 0!==obj.title||void 0!==obj.description,{message:"At least one field must be provided"}),types.Ry({id:CourseId,title:types.Z_(),description:types.Z_().nullable(),teacherId:types.Z_(),createdAt:types.Z_()}),types.Ry({id:types.Z_().uuid(),course_id:types.Z_().uuid(),title:types.Z_().min(3).max(200),content:types.Z_(),order_index:types.Rx().int().min(1),file_key:types.Z_().optional().nullable(),created_at:types.Z_()}),types.Ry({course_id:types.Z_().uuid(),title:types.Z_().min(3).max(200),content:types.Z_().default(""),order_index:types.Rx().int().min(1).default(1),file_key:types.Z_().optional()}).strict(),types.Ry({course_id:types.Z_().uuid(),items:types.IX(types.Ry({id:types.Z_().uuid(),order_index:types.Rx().int().min(1)})).min(1)}).strict(),types.Ry({id:types.Z_().uuid(),student_id:types.Z_(),course_id:types.Z_().uuid(),created_at:types.Z_()}),types.Ry({course_id:types.Z_().uuid()}),types.Ry({id:types.Z_().uuid(),parent_id:types.Z_().uuid(),student_id:types.Z_().uuid(),created_at:types.Z_()}),types.Ry({parent_id:types.Z_().min(3),student_id:types.Z_().min(3)}),types.Ry({parent_id:types.Z_().min(3),student_id:types.Z_().min(3)}),types.Ry({userId:types.Z_().uuid(),role:types.Km(["student","teacher","parent","admin"])}),types.Ry({id:types.Z_().uuid(),course_id:types.Z_().uuid(),title:types.Z_().min(3).max(200),order_index:types.Rx().int().min(1),created_at:types.Z_()}),types.Ry({course_id:types.Z_().uuid(),title:types.Z_().min(3).max(200),order_index:types.Rx().int().min(1).default(1)}).strict(),types.Ry({title:types.Z_().min(3).max(200).optional(),order_index:types.Rx().int().min(1).optional()}).strict().refine(obj=>Object.keys(obj).length>0,{message:"At least one field is required"}),types.Ry({id:types.Z_().uuid(),course_id:types.Z_().uuid(),title:types.Z_().min(3).max(200),description:types.Z_().max(4e3).nullable().optional(),due_at:types.Z_().datetime().nullable().optional(),points:types.Rx().int().min(0).max(1e3).default(100),created_at:types.Z_()})),submission_submission=(types.Ry({course_id:types.Z_().uuid(),title:types.Z_().min(3).max(200),description:types.Z_().max(4e3).optional(),due_at:types.Z_().datetime().optional(),points:types.Rx().int().min(0).max(1e3).optional()}).strict(),types.Ry({title:types.Z_().min(3).max(200).optional(),description:types.Z_().max(4e3).optional(),due_at:types.Z_().datetime().optional(),points:types.Rx().int().min(0).max(1e3).optional()}).strict().refine(obj=>Object.keys(obj).length>0,{message:"At least one field required"}),types.Ry({id:SubmissionId,assignment_id:AssignmentId,student_id:UserId,text:types.Z_().max(1e4).default(""),file_url:types.Z_().url().optional().nullable(),file_urls:types.IX(types.Z_().url()).optional().default([]),submitted_at:types.Z_(),score:types.Rx().int().min(0).max(1e3).optional().nullable(),feedback:types.Z_().max(4e3).optional().nullable()}));types.Ry({assignment_id:AssignmentId,text:types.Z_().max(1e4).default(""),file_url:types.Z_().url().optional(),file_urls:types.IX(types.Z_().url()).optional()}).strict(),types.Ry({score:types.Rx().int().min(0).max(1e3),feedback:types.Z_().max(4e3).optional()}).strict();__webpack_require__("../../node_modules/process/browser.js");const envSchema=types.Ry({NEXT_PUBLIC_SUPABASE_URL:types.Z_().url(),NEXT_PUBLIC_SUPABASE_ANON_KEY:types.Z_().min(10)});envSchema.extend({NEXT_RUNTIME_PUBLIC_KEY:types.Z_().optional(),NEXT_RUNTIME_PRIVATE_KEY:types.Z_().optional(),NEXT_RUNTIME_KEY_ID:types.Z_().optional(),NEXT_PUBLIC_CSP:types.Z_().optional(),RUNTIME_CORS_ALLOW:types.Z_().optional(),RUNTIME_EVENTS_LIMIT:types.Z_().optional(),RUNTIME_EVENTS_WINDOW_MS:types.Z_().optional(),RUNTIME_OUTCOMES_LIMIT:types.Z_().optional(),RUNTIME_OUTCOMES_WINDOW_MS:types.Z_().optional(),GLOBAL_MUTATION_RATE_LIMIT:types.Z_().optional(),GLOBAL_MUTATION_RATE_WINDOW_MS:types.Z_().optional(),MVP_PROD_GUARD:types.Z_().optional(),TEST_MODE:types.Z_().optional(),CSRF_DOUBLE_SUBMIT:types.Z_().optional()});const quiz_quiz=types.Ry({id:QuizId,course_id:CourseId,title:types.Z_().min(3).max(200),time_limit_sec:types.Rx().int().min(10).max(7200).optional().nullable(),points:types.Rx().int().min(0).max(1e3).default(100),created_at:types.Z_()}),quizQuestion=(types.Ry({course_id:CourseId,title:types.Z_().min(3).max(200),time_limit_sec:types.Rx().int().min(10).max(7200).optional().nullable(),points:types.Rx().int().min(0).max(1e3).optional().default(100)}).strict(),types.Ry({title:types.Z_().min(3).max(200).optional(),time_limit_sec:types.Rx().int().min(10).max(7200).optional().nullable(),points:types.Rx().int().min(0).max(1e3).optional()}).strict().refine(v=>void 0!==v.title||void 0!==v.time_limit_sec||void 0!==v.points,{message:"At least one field must be provided"}),types.Ry({id:QuizQuestionId,quiz_id:QuizId,text:types.Z_().min(3).max(500),order_index:types.Rx().int().min(1)})),quizChoice=(types.Ry({quiz_id:QuizId,text:types.Z_().min(3).max(500),order_index:types.Rx().int().min(1).default(1)}).strict(),types.Ry({id:QuizChoiceId,question_id:QuizQuestionId,text:types.Z_().min(1).max(300),correct:types.O7(),order_index:types.Rx().int().min(1)})),quizAttempt=(types.Ry({question_id:QuizQuestionId,text:types.Z_().min(1).max(300),correct:types.O7(),order_index:types.Rx().int().min(1).default(1)}).strict(),types.Ry({id:QuizAttemptId,quiz_id:QuizId,student_id:UserId,started_at:types.Z_(),submitted_at:types.Z_().optional().nullable(),score:types.Rx().int().min(0).max(1e3)})),message_message=(types.Ry({quiz_id:QuizId}).strict(),types.Ry({attempt_id:QuizAttemptId,question_id:QuizQuestionId,choice_id:QuizChoiceId}).strict(),types.Ry({attempt_id:QuizAttemptId}).strict(),types.Ry({id:types.Z_().uuid(),course_id:types.Z_().uuid(),teacher_id:types.Z_().uuid(),title:types.Z_().min(1).max(200),body:types.Z_().min(1),file_key:types.Z_().optional().nullable(),publish_at:types.Z_().datetime().nullable().optional(),created_at:types.Z_()}),types.Ry({course_id:types.Z_().uuid(),title:types.Z_().min(1).max(200),body:types.Z_().min(1),file_key:types.Z_().optional().nullable(),publish_at:types.G0([types.Z_().datetime(),types.lB()]).optional()}),types.Ry({id:types.Z_().uuid()}),types.Ry({id:types.Z_().uuid(),created_at:types.Z_()}),types.Ry({participant_ids:types.IX(types.Z_().min(1)).min(1)}).strict(),types.Ry({id:types.Z_().uuid(),thread_id:types.Z_().uuid(),sender_id:types.Z_().min(1),body:types.Z_().min(1),created_at:types.Z_(),read_at:types.Z_().nullable().optional()})),notification_notification=(types.Ry({thread_id:types.Z_().uuid(),body:types.Z_().min(1)}).strict(),types.Ry({id:types.Z_().uuid(),user_id:types.Z_().min(1),type:types.Z_().min(1),payload:types.IM(types.Yj()),created_at:types.Z_(),read_at:types.Z_().nullable().optional()})),kpi=(types.Ry({read:types.O7().default(!0)}),types.Ry({id:types.Z_().uuid(),user_id:types.Z_().nullable(),event_type:types.Z_().min(1),entity_type:types.Z_().min(1),entity_id:types.Z_().min(1),ts:types.Z_(),meta:types.IM(types.Yj())}),types.Ry({event_type:types.Z_().min(1),entity_type:types.Z_().min(1),entity_id:types.Z_().min(1),meta:types.IM(types.Yj()).default({})}),types.Km(["student","teacher","parent","admin"]),types.Ry({code:types.Z_().min(1),message:types.Z_().min(1),details:types.IM(types._4()).optional(),requestId:types.Z_().optional()}),types.Ry({label:types.Z_(),value:types.Rx(),hint:types.Z_().optional()})),studentDashboard=types.Ry({kpis:types.Ry({enrolledCourses:kpi,lessonsCompleted:kpi,assignmentsDue:kpi.optional()}),continueLearning:types.Ry({courseId:CourseId,courseTitle:types.Z_(),nextLessonTitle:types.Z_().optional(),nextLessonId:LessonId.optional()}).optional(),courses:types.IX(types.Ry({courseId:CourseId,title:types.Z_(),progress:types.Ry({totalLessons:types.Rx().int().min(0),completedLessons:types.Rx().int().min(0),percent:types.Rx().min(0).max(100)})}))}).strict(),teacherDashboard=types.Ry({kpis:types.Ry({activeCourses:kpi,studentsEnrolled:kpi,needsGrading:kpi.optional(),interactiveAttempts:kpi.optional(),interactivePassRate:kpi.optional()}),recentCourses:types.IX(types.Ry({id:CourseId,title:types.Z_(),createdAt:types.Z_()})).default([])}).strict(),adminDashboard=types.Ry({kpis:types.Ry({totalUsers:kpi,totalCourses:kpi,dailyActiveUsers:kpi}),recentActivity:types.IX(types.Ry({id:types.Z_(),message:types.Z_(),at:types.Z_()})).default([])}).strict(),progressItem=(types.VK("role",[types.Ry({role:types.i0("student"),data:studentDashboard}),types.Ry({role:types.i0("teacher"),data:teacherDashboard}),types.Ry({role:types.i0("admin"),data:adminDashboard}),types.Ry({role:types.i0("parent"),data:types.Ry({children:types.IX(types.Ry({childId:types.Z_(),name:types.Z_()})).default([])})})]),types.Ry({lessonId:LessonId,completed:types.O7().default(!0)}).strict(),types.Ry({lessonId:LessonId,completedAt:types.Z_()})),courseProgress=types.Ry({courseId:CourseId,totalLessons:types.Rx().int().min(0),completedLessons:types.Rx().int().min(0),percent:types.Rx().min(0).max(100)}),attemptRules=(types.Ry({courseProgress:courseProgress.optional(),latest:progressItem.optional()}).strict(),types.Ry({id:types.Z_().uuid(),vendor_id:types.Z_().uuid().nullable().optional(),kind:types.Km(["v1","v2"]),title:types.Z_().min(1),description:types.Z_().nullable().optional(),version:types.Z_().min(1),status:types.Km(["draft","approved","disabled"]).default("draft"),launch_url:types.Z_().url().nullable().optional(),bundle_ref:types.Z_().nullable().optional(),scopes:types.IX(types.Z_()).nullable().optional(),created_at:types.Z_().optional()}),types.Ry({id:types.Z_().uuid(),external_course_id:types.Z_().uuid(),version:types.Z_().min(1),status:types.Km(["draft","approved","disabled"]).default("approved"),manifest_hash:types.Z_().nullable().optional(),launch_url:types.Z_().url().nullable().optional(),created_at:types.Z_().optional(),released_at:types.Z_().nullable().optional(),rolled_back_from:types.Z_().uuid().nullable().optional()}),types.Ry({max_attempts:types.Rx().int().min(1).max(20).nullable().optional(),time_limit_sec:types.Rx().int().min(30).max(86400).nullable().optional(),late_policy:types.Km(["allow","block","penalize"]).default("allow")})),gradingPolicy=types.Ry({points:types.Rx().int().min(0).max(1e3).default(100),pass_pct:types.Rx().min(0).max(100).nullable().optional(),rubric_url:types.Z_().url().nullable().optional()}),runtimeAttemptDto=(types.Ry({assignment_id:types.Z_().uuid(),source:types.Km(["native","v1","v2"]),external_course_id:types.Z_().uuid().nullable().optional(),version_id:types.Z_().uuid().nullable().optional(),lesson_slug:types.Z_().nullable().optional(),launch_url:types.Z_().url().nullable().optional(),attempt_rules:attemptRules.default({late_policy:"allow"}),grading_policy:gradingPolicy.default({points:100})}).pick({assignment_id:!0,source:!0,external_course_id:!0,version_id:!0,lesson_slug:!0,launch_url:!0,attempt_rules:!0,grading_policy:!0}),types.IX(assignment_assignment),types.IX(submission_submission),types.IX(quiz_quiz),types.IX(message_message),types.IX(notification_notification),types.Ry({id:types.Z_().uuid().optional(),course_id:types.Z_().uuid(),user_id:types.Z_().uuid(),runtime_attempt_id:types.Z_().nullable().optional(),score:types.Rx().nullable().optional(),max:types.Rx().optional().nullable(),passed:types.O7().optional().nullable(),pct:types.Rx().min(0).max(100).optional().nullable(),topic:types.Z_().optional().nullable(),created_at:types.Z_().optional()}));types.IX(runtimeAttemptDto)}}]);