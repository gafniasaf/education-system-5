FAIL tests/unit/ui/StudentProfile.spec.tsx (7.666 s)
  ● Console

    console.debug
      [serverFetch] 404 /api/user/profile 23ms

      at serverFetch (../apps/web/src/lib/serverFetch.ts:90:13)

  ● Student Profile (labs) › renders email and role when authenticated

    expect(element).toHaveTextContent()

    Expected element to have text content:
      s@example.com
    Received:
      t@example.com

      15 |     const ui = await StudentProfilePage();
      16 |     render(ui);
    > 17 |     expect(await screen.findByTestId('profile-email')).toHaveTextContent('s@example.com');
         |                                                        ^
      18 |     expect(await screen.findByTestId('profile-role')).toHaveTextContent('student');
      19 |   });
      20 | });

      at Object.<anonymous> (unit/ui/StudentProfile.spec.tsx:17:56)

PASS tests/unit/ui/SystemAuthCheck.spec.tsx
  ● Console

    console.debug
      [serverFetch] 404 /api/user/profile 13ms

      at serverFetch (../apps/web/src/lib/serverFetch.ts:90:13)


Test Suites: 1 failed, 1 passed, 2 total
Tests:       1 failed, 1 passed, 2 total
Snapshots:   0 total
Time:        11.967 s
Ran all test suites related to files matching /tests\/unit\/ui\/StudentProfile.spec.tsx|tests\/unit\/ui\/SystemAuthCheck.spec.tsx/i.
