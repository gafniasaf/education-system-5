# Files Downloads â€” Content-Disposition and Proxy

Presigned URLs returned by `/api/files/download-url` (prod path) are generated by storage and may not include a `Content-Disposition` header. Clients should set the `download` attribute on links to hint save-as behavior.

Options:
- UI: use `<a href="..." download>` to suggest filename handling.
- Proxy (optional): implement a small proxy endpoint for small files that sets `Content-Disposition: attachment; filename="..."` before streaming bytes. Use presigned URL only for larger files.
- Test-mode: the route returns bytes directly and sets `Content-Disposition`.

Security:
- Keep ownership checks in `/api/files/download-url`.
- Avoid proxying large files to reduce server load; prefer direct storage URLs.
