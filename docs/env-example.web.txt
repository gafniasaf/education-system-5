# Example env for apps/web
NEXT_PUBLIC_BASE_URL=http://localhost:3022

# Supabase (required in production)
NEXT_PUBLIC_SUPABASE_URL=http://localhost:54321
NEXT_PUBLIC_SUPABASE_ANON_KEY=test-anon-key-1234567890

# Test mode
TEST_MODE=1
NEXT_PUBLIC_TEST_MODE=1

# Security
CSRF_DOUBLE_SUBMIT=0
COEP=0

# Rate limits
GLOBAL_MUTATION_RATE_LIMIT=0
GLOBAL_MUTATION_RATE_WINDOW_MS=60000
MESSAGES_LIST_LIMIT=240
MESSAGES_LIST_WINDOW_MS=60000
NOTIFICATIONS_LIST_LIMIT=240
NOTIFICATIONS_LIST_WINDOW_MS=60000
UPLOAD_RATE_LIMIT=30
UPLOAD_RATE_WINDOW_MS=60000
ALLOWED_UPLOAD_MIME=image/png,image/jpeg,image/webp,application/pdf,text/plain,application/octet-stream

# Files
NEXT_PUBLIC_UPLOAD_BUCKET=public
UPLOAD_MAX_BYTES=0

# Storage quotas (optional)
STORAGE_QUOTA_ENABLED=0

# Provider health cache/timeouts
PROVIDER_HEALTH_TTL_MS=600000
PROVIDER_HEALTH_TIMEOUT_MS=2000
PROVIDER_HEALTH_REFRESH_JOB=0
PROVIDER_HEALTH_REFRESH_INTERVAL_MS=86400000

# Quota reconcile job
QUOTA_RECONCILE_JOB=0
QUOTA_RECONCILE_INTERVAL_MS=21600000

# Attachment sizes backfill
BACKFILL_ATTACHMENT_SIZES_JOB=0
BACKFILL_ATTACHMENT_SIZES_INTERVAL_MS=900000

# Metrics
METRICS_TOKEN=

# CSP connect-src allowlist (comma-separated origins)
RUNTIME_CORS_ALLOW=

# Registry
EXTERNAL_COURSES=0
REGISTRY_LIST_LIMIT=120
REGISTRY_LIST_WINDOW_MS=60000
REGISTRY_MUTATE_LIMIT=30
REGISTRY_MUTATE_WINDOW_MS=60000

# Runtime v2 (dev HS256 if no keys set)
RUNTIME_API_V2=0
JWKS_TTL_MS=300000
RUNTIME_FRAME_SRC_ALLOW=
RUNTIME_PROGRESS_LIMIT=60
RUNTIME_PROGRESS_WINDOW_MS=60000
RUNTIME_GRADE_LIMIT=60
RUNTIME_GRADE_WINDOW_MS=60000
RUNTIME_CHECKPOINT_LIMIT=30
RUNTIME_CHECKPOINT_WINDOW_MS=60000
RUNTIME_CHECKPOINT_MAX_BYTES=32768
RUNTIME_ASSET_LIMIT=20
RUNTIME_ASSET_WINDOW_MS=60000
RUNTIME_IDEMPOTENCY_TTL_MS=300000
RUNTIME_OUTCOMES_LIMIT=60
RUNTIME_OUTCOMES_WINDOW_MS=60000

# Reports (read)
REPORTS_ACTIVITY_LIMIT=240
REPORTS_ACTIVITY_WINDOW_MS=60000
REPORTS_RETENTION_LIMIT=120
REPORTS_RETENTION_WINDOW_MS=60000


# Governance & messaging
LICENSE_ENFORCEMENT=0
MESSAGING_PORT=0


